<div class="container">
    <h1>{{ title }}</h1>
    
    <div class="report-form">
      <h2>Formulario de Nuevo Reporte</h2>
      
      <div class="form-group">
        <label for="equipmentId">ID del Equipo</label>
        <input 
          type="text" 
          id="equipmentId" 
          [(ngModel)]="equipmentId" 
          placeholder="Ej: EQ-2024-001"
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <div class="image-placeholder">
          <img [src]="currentImageUrl || 'https://via.placeholder.com/300x150'" alt="Placeholder">
        </div>
        <button class="btn btn-primary camera-btn" (click)="captureImage()">
          <span class="camera-icon">ðŸ“·</span> Tomar Foto
        </button>
      </div>
      
      <div class="form-group">
        <label for="shortProblem">Problema Breve</label>
        <input 
          type="text" 
          id="shortProblem" 
          [(ngModel)]="shortProblem" 
          placeholder="Describa brevemente el problema"
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <label for="description">DescripciÃ³n del Problema</label>
        <textarea 
          id="description" 
          [(ngModel)]="description" 
          placeholder="Describa en detalle el problema"
          class="form-control"
          rows="4"
        ></textarea>
      </div>
      
      <button class="btn btn-success save-btn" (click)="saveReport()">
        Guardar Reporte
      </button>
    </div>
    
    <div class="reports-gallery">
      <h2>Reportes Registrados</h2>
      
      <div class="reports-container">
        <div class="report-card" *ngFor="let report of reports">
          <div class="report-image">
            <img [src]="report.imageUrl" alt="Imagen del reporte">
            <div class="timestamp">{{ formatTime(report.timestamp) }}</div>
          </div>
          <div class="report-info">
            <div class="report-date">{{ formatDate(report.timestamp) }}</div>
            <div class="equipment-id">{{ report.equipmentId }}</div>
            <div class="problem-title">{{ report.shortProblem }}</div>
          </div>
          <div class="report-actions">
            <button class="btn btn-info details-btn" (click)="viewDetails(report)">
              Ver Detalles
            </button>
            <button class="btn btn-danger delete-btn" (click)="deleteReport(report.id)">
              Borrar
            </button>
          </div>
        </div>
        
        <div class="no-reports" *ngIf="reports.length === 0">
          No hay reportes registrados
        </div>
      </div>
    </div>
    
    <!-- Modal de detalles -->
    <div class="details-modal" *ngIf="showDetails && selectedReport">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Detalles del Reporte</h3>
          <button class="close-btn" (click)="closeDetails()">Ã—</button>
        </div>
        <div class="modal-body">
          <div class="detail-item">
            <strong>ID del Equipo:</strong> {{ selectedReport.equipmentId }}
          </div>
          <div class="detail-item">
            <strong>Fecha:</strong> {{ formatDate(selectedReport.timestamp) }} {{ formatTime(selectedReport.timestamp) }}
          </div>
          <div class="detail-item">
            <strong>Problema:</strong> {{ selectedReport.shortProblem }}
          </div>
          <div class="detail-item">
            <strong>DescripciÃ³n:</strong>
            <p>{{ selectedReport.description }}</p>
          </div>
          <div class="detail-image">
            <img [src]="selectedReport.imageUrl" alt="Imagen del reporte">
          </div>
        </div>
      </div>
    </div>
  </div>